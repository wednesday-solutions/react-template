{"version":3,"sources":["webpack://react-template/./node_modules/rc-align/lib/Align.js","webpack://react-template/./node_modules/rc-align/lib/hooks/useBuffer.js","webpack://react-template/./node_modules/rc-align/lib/index.js","webpack://react-template/./node_modules/rc-align/lib/util.js"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","default","_slicedToArray2","_typeof2","_react","_ref2","_isVisible","_domAlign","_addEventListener","_util","_useBuffer3","getElement","func","getPoint","point","RefAlign","forwardRef","_ref","ref","children","disabled","target","align","onAlign","monitorWindowResize","_ref$monitorBufferTim","monitorBufferTime","cacheRef","useRef","nodeRef","childNode","Children","only","forceAlignPropsRef","current","_useBuffer","_forceAlignPropsRef$c","latestDisabled","latestTarget","latestOnAlign","result","source","element","activeElement","document","alignElement","alignPoint","restoreFocus","_useBuffer2","_forceAlign","cancelForceAlign","resizeMonitor","cancel","sourceResizeMonitor","useEffect","monitorResize","isSamePoint","winResizeRef","window","remove","useImperativeHandle","forceAlign","isValidElement","cloneElement","composeRef","displayName","_default","callback","buffer","calledRef","timeoutRef","cancelTrigger","clearTimeout","trigger","force","setTimeout","prev","next","pageX","pageY","clientX","clientY","container","_contains","focus","prevWidth","prevHeight","resizeObserver","_resizeObserverPolyfill","documentElement","contains","_target$getBoundingCl","getBoundingClientRect","width","height","fixedWidth","Math","floor","fixedHeight","Promise","resolve","then","observe","disconnect"],"mappings":"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","file":"npm.rc-align.8dc7c302f801f143af7a.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ref2 = require(\"rc-util/lib/ref\");\n\nvar _isVisible = _interopRequireDefault(require(\"rc-util/lib/Dom/isVisible\"));\n\nvar _domAlign = require(\"dom-align\");\n\nvar _addEventListener = _interopRequireDefault(require(\"rc-util/lib/Dom/addEventListener\"));\n\nvar _util = require(\"./util\");\n\nvar _useBuffer3 = _interopRequireDefault(require(\"./hooks/useBuffer\"));\n\n/**\n * Removed props:\n *  - childrenProps\n */\nfunction getElement(func) {\n  if (typeof func !== 'function') return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if ((0, _typeof2.default)(point) !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function Align(_ref, ref) {\n  var children = _ref.children,\n      disabled = _ref.disabled,\n      target = _ref.target,\n      align = _ref.align,\n      onAlign = _ref.onAlign,\n      monitorWindowResize = _ref.monitorWindowResize,\n      _ref$monitorBufferTim = _ref.monitorBufferTime,\n      monitorBufferTime = _ref$monitorBufferTim === void 0 ? 0 : _ref$monitorBufferTim;\n\n  var cacheRef = _react.default.useRef({});\n\n  var nodeRef = _react.default.useRef();\n\n  var childNode = _react.default.Children.only(children); // ===================== Align ======================\n  // We save the props here to avoid closure makes props ood\n\n\n  var forceAlignPropsRef = _react.default.useRef({});\n\n  forceAlignPropsRef.current.disabled = disabled;\n  forceAlignPropsRef.current.target = target;\n  forceAlignPropsRef.current.onAlign = onAlign;\n\n  var _useBuffer = (0, _useBuffer3.default)(function () {\n    var _forceAlignPropsRef$c = forceAlignPropsRef.current,\n        latestDisabled = _forceAlignPropsRef$c.disabled,\n        latestTarget = _forceAlignPropsRef$c.target,\n        latestOnAlign = _forceAlignPropsRef$c.onAlign;\n\n    if (!latestDisabled && latestTarget) {\n      var source = nodeRef.current;\n      var result;\n      var element = getElement(latestTarget);\n      var point = getPoint(latestTarget);\n      cacheRef.current.element = element;\n      cacheRef.current.point = point; // IE lose focus after element realign\n      // We should record activeElement and restore later\n\n      var _document = document,\n          activeElement = _document.activeElement; // We only align when element is visible\n\n      if (element && (0, _isVisible.default)(element)) {\n        result = (0, _domAlign.alignElement)(source, element, align);\n      } else if (point) {\n        result = (0, _domAlign.alignPoint)(source, point, align);\n      }\n\n      (0, _util.restoreFocus)(activeElement, source);\n\n      if (latestOnAlign && result) {\n        latestOnAlign(source, result);\n      }\n\n      return true;\n    }\n\n    return false;\n  }, monitorBufferTime),\n      _useBuffer2 = (0, _slicedToArray2.default)(_useBuffer, 2),\n      _forceAlign = _useBuffer2[0],\n      cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\n  // Listen for target updated\n\n\n  var resizeMonitor = _react.default.useRef({\n    cancel: function cancel() {}\n  }); // Listen for source updated\n\n\n  var sourceResizeMonitor = _react.default.useRef({\n    cancel: function cancel() {}\n  });\n\n  _react.default.useEffect(function () {\n    var element = getElement(target);\n    var point = getPoint(target);\n\n    if (nodeRef.current !== sourceResizeMonitor.current.element) {\n      sourceResizeMonitor.current.cancel();\n      sourceResizeMonitor.current.element = nodeRef.current;\n      sourceResizeMonitor.current.cancel = (0, _util.monitorResize)(nodeRef.current, _forceAlign);\n    }\n\n    if (cacheRef.current.element !== element || !(0, _util.isSamePoint)(cacheRef.current.point, point)) {\n      _forceAlign(); // Add resize observer\n\n\n      if (resizeMonitor.current.element !== element) {\n        resizeMonitor.current.cancel();\n        resizeMonitor.current.element = element;\n        resizeMonitor.current.cancel = (0, _util.monitorResize)(element, _forceAlign);\n      }\n    }\n  }); // Listen for disabled change\n\n\n  _react.default.useEffect(function () {\n    if (!disabled) {\n      _forceAlign();\n    } else {\n      cancelForceAlign();\n    }\n  }, [disabled]); // Listen for window resize\n\n\n  var winResizeRef = _react.default.useRef(null);\n\n  _react.default.useEffect(function () {\n    if (monitorWindowResize) {\n      if (!winResizeRef.current) {\n        winResizeRef.current = (0, _addEventListener.default)(window, 'resize', _forceAlign);\n      }\n    } else if (winResizeRef.current) {\n      winResizeRef.current.remove();\n      winResizeRef.current = null;\n    }\n  }, [monitorWindowResize]); // Clear all if unmount\n\n\n  _react.default.useEffect(function () {\n    return function () {\n      resizeMonitor.current.cancel();\n      sourceResizeMonitor.current.cancel();\n      if (winResizeRef.current) winResizeRef.current.remove();\n      cancelForceAlign();\n    };\n  }, []); // ====================== Ref =======================\n\n\n  _react.default.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: function forceAlign() {\n        return _forceAlign(true);\n      }\n    };\n  }); // ===================== Render =====================\n\n\n  if (_react.default.isValidElement(childNode)) {\n    childNode = _react.default.cloneElement(childNode, {\n      ref: (0, _ref2.composeRef)(childNode.ref, nodeRef)\n    });\n  }\n\n  return childNode;\n};\n\nvar RefAlign = _react.default.forwardRef(Align);\n\nRefAlign.displayName = 'Align';\nvar _default = RefAlign;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _default = function _default(callback, buffer) {\n  var calledRef = _react.default.useRef(false);\n\n  var timeoutRef = _react.default.useRef(null);\n\n  function cancelTrigger() {\n    window.clearTimeout(timeoutRef.current);\n  }\n\n  function trigger(force) {\n    if (!calledRef.current || force === true) {\n      if (callback() === false) {\n        // Not delay since callback cancelled self\n        return;\n      }\n\n      calledRef.current = true;\n      cancelTrigger();\n      timeoutRef.current = window.setTimeout(function () {\n        calledRef.current = false;\n      }, buffer);\n    } else {\n      cancelTrigger();\n      timeoutRef.current = window.setTimeout(function () {\n        calledRef.current = false;\n        trigger();\n      }, buffer);\n    }\n  }\n\n  return [trigger, function () {\n    calledRef.current = false;\n    cancelTrigger();\n  }];\n};\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Align = _interopRequireDefault(require(\"./Align\"));\n\n// export this package's api\nvar _default = _Align.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSamePoint = isSamePoint;\nexports.restoreFocus = restoreFocus;\nexports.monitorResize = monitorResize;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _resizeObserverPolyfill = _interopRequireDefault(require(\"resize-observer-polyfill\"));\n\nvar _contains = _interopRequireDefault(require(\"rc-util/lib/Dom/contains\"));\n\nfunction isSamePoint(prev, next) {\n  if (prev === next) return true;\n  if (!prev || !next) return false;\n\n  if ('pageX' in next && 'pageY' in next) {\n    return prev.pageX === next.pageX && prev.pageY === next.pageY;\n  }\n\n  if ('clientX' in next && 'clientY' in next) {\n    return prev.clientX === next.clientX && prev.clientY === next.clientY;\n  }\n\n  return false;\n}\n\nfunction restoreFocus(activeElement, container) {\n  // Focus back if is in the container\n  if (activeElement !== document.activeElement && (0, _contains.default)(container, activeElement) && typeof activeElement.focus === 'function') {\n    activeElement.focus();\n  }\n}\n\nfunction monitorResize(element, callback) {\n  var prevWidth = null;\n  var prevHeight = null;\n\n  function onResize(_ref) {\n    var _ref2 = (0, _slicedToArray2.default)(_ref, 1),\n        target = _ref2[0].target;\n\n    if (!document.documentElement.contains(target)) return;\n\n    var _target$getBoundingCl = target.getBoundingClientRect(),\n        width = _target$getBoundingCl.width,\n        height = _target$getBoundingCl.height;\n\n    var fixedWidth = Math.floor(width);\n    var fixedHeight = Math.floor(height);\n\n    if (prevWidth !== fixedWidth || prevHeight !== fixedHeight) {\n      // https://webkit.org/blog/9997/resizeobserver-in-webkit/\n      Promise.resolve().then(function () {\n        callback({\n          width: fixedWidth,\n          height: fixedHeight\n        });\n      });\n    }\n\n    prevWidth = fixedWidth;\n    prevHeight = fixedHeight;\n  }\n\n  var resizeObserver = new _resizeObserverPolyfill.default(onResize);\n\n  if (element) {\n    resizeObserver.observe(element);\n  }\n\n  return function () {\n    resizeObserver.disconnect();\n  };\n}"],"sourceRoot":""}