"use strict";(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[7703],{57703:(e,t,a)=>{a.r(t),a.d(t,{HomeContainer:()=>se,HomeContainerTest:()=>pe,default:()=>le,mapDispatchToProps:()=>ue});a(98620);var n,o,r,i=a(10149),s=a(87462),d=a(22928),u=a(98152),c=(a(89626),a(70302)),l=(a(89858),a(51024)),p=a(67294),m=a(37424),f=a(22222),h=a(35281),Z=a(27361),v=a.n(Z),g=a(23279),_=a.n(g),C=a(41609),x=a.n(C),w=a(71893),b=a(97132),y=a(5276),N=a(34392),R=a(69123),k=a(25798),G=a(95763),E=a.n(G),P=(0,w.ZP)(c.Z).withConfig({displayName:"RepoCard__CustomCard",componentId:"sc-3wf6pv-0"})(["&&{margin:20px 0;}"]);const I=function(e){var t=e.name,a=e.fullName,i=e.stargazersCount;return(0,d.Z)(P,{"data-testid":"repo-card"},void 0,(0,d.Z)(R.Z,{condition:!x()(t),otherwise:n||(n=(0,d.Z)(N.Z,{"data-testid":"name-unavailable",id:"repo_name_unavailable"}))},void 0,(0,d.Z)(N.Z,{"data-testid":"name",id:"repository_name",values:{name:t}})),(0,d.Z)(R.Z,{condition:!x()(a),otherwise:o||(o=(0,d.Z)(N.Z,{"data-testid":"fullName-unavailable",id:"repo_full_name_unavailable"}))},void 0,(0,d.Z)(N.Z,{"data-testid":"fullName",id:"repository_full_name",values:{fullName:a}})),(0,d.Z)(R.Z,{condition:i,otherwise:r||(r=(0,d.Z)(N.Z,{"data-testid":"stargazers-unavaiable",id:"repo_stars_unavailable"}))},void 0,(0,d.Z)(N.Z,{"data-testid":"stargazers",id:"repository_stars",values:{stars:i}})))};var T=a(84060),H=function(e){return e.homeContainer||T.E3},S=a(87757),D=a.n(S),q=a(73375),z=a(4120),L=a(11865),U=a.n(L),B=a(68929),j=a.n(B),M=a(79676),X={github:null,default:null},O=function(e){var t=(0,z.Ue)({baseURL:e,headers:{"Content-Type":"application/json"}});return t.addResponseTransform((function(e){var t=e.ok,a=e.data;return t&&a&&(e.data=(0,M.CL)(a,(function(e){return j()(e)}))),e})),t.addRequestTransform((function(e){var t=e.data;return t&&(e.data=(0,M.CL)(t,(function(e){return U()(e)}))),e})),t},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"github";return"github"===e?(X[e]=O("https://api.github.com/"),X[e]):(X.default=O("https://api.github.com/"),X.default)}("github"),V=function(e){return Q.get("/search/repositories?q=".concat(e))},W=D().mark(Y),A=D().mark($),F=T.Wj.REQUEST_GET_GITHUB_REPOS,J=T.xI.successGetGithubRepos,K=T.xI.failureGetGithubRepos;function Y(e){var t,a;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,q.call)(V,e.repoName);case 2:if(t=n.sent,a=t.data,!t.ok){n.next=9;break}return n.next=7,(0,q.put)(J(a));case 7:n.next=11;break;case 9:return n.next=11,(0,q.put)(K(a));case 11:case"end":return n.stop()}}),W)}function $(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,q.takeLatest)(F,Y);case 2:case"end":return e.stop()}}),A)}var ee,te=a(39711),ae=l.Z.Search,ne=(0,w.ZP)(c.Z).withConfig({displayName:"HomeContainer__CustomCard",componentId:"l0s8pp-0"})(["&&{margin:20px 0;max-width:",";color:",";",";}"],(function(e){return e.maxwidth}),(function(e){return e.color}),(function(e){return e.color&&"color: ".concat(e.color)})),oe=w.ZP.div.withConfig({displayName:"HomeContainer__Container",componentId:"l0s8pp-1"})(["&&{display:flex;flex-direction:column;max-width:","px;width:100%;margin:0 auto;padding:","px;}"],(function(e){return e.maxwidth}),(function(e){return e.padding})),re=w.ZP.div.withConfig({displayName:"HomeContainer__RightContent",componentId:"l0s8pp-2"})(["display:flex;align-self:flex-end;"]),ie=(0,w.ZP)(N.Z).withConfig({displayName:"HomeContainer__StyledT",componentId:"l0s8pp-3"})(["&&{color:",";}"],E().gotoStories);function se(e){var t,a=e.dispatchGithubRepos,n=e.dispatchClearGithubRepos,o=e.intl,r=e.reposData,c=e.reposError,l=e.repoName,m=e.maxwidth,f=e.padding,h=(0,p.useState)(!1),Z=(0,u.Z)(h,2),g=Z[0],C=Z[1],w=(0,te.useHistory)();(0,p.useEffect)((function(){(v()(r,"items",null)||c)&&C(!1)}),[r]),(0,p.useEffect)((function(){var e;!l||null!==r&&void 0!==r&&null!==(e=r.items)&&void 0!==e&&e.length||(a(l),C(!0))}),[]);var b,y,G,E=_()((function(e){x()(e)?n():(a(e),C(!0))}),200);return(0,d.Z)(oe,{maxwidth:m,padding:f},void 0,(0,d.Z)(re,{},void 0,(0,d.Z)(ie,{onClick:function(){w.push("/stories"),window.location.reload()},"data-testid":"redirect",id:"stories"})),(0,d.Z)(ne,{title:o.formatMessage({id:"repo_search"}),maxwidth:m},void 0,ee||(ee=(0,d.Z)(N.Z,{marginBottom:10,id:"get_repo_details"})),(0,d.Z)(ae,{"data-testid":"search-bar",defaultValue:l,type:"text",onChange:function(e){return E(e.target.value)},onSearch:function(e){return E(e)}})),(y=v()(r,"items",[]),G=v()(r,"totalCount",0),(0,d.Z)(R.Z,{condition:!x()(y)||g},void 0,(0,d.Z)(ne,{},void 0,(0,d.Z)(i.default,{loading:g,active:!0},void 0,(0,d.Z)(R.Z,{condition:!x()(l)},void 0,(0,d.Z)("div",{},void 0,(0,d.Z)(N.Z,{id:"search_query",values:{repoName:l}}))),(0,d.Z)(R.Z,{condition:0!==G},void 0,(0,d.Z)("div",{},void 0,(0,d.Z)(N.Z,{id:"matching_repos",values:{totalCount:G}}))),(0,d.Z)(k.Z,{of:y,ParentComponent:oe,renderItem:function(e,t){return p.createElement(I,(0,s.Z)({key:t},e))}}))))),(c?b=c:x()(l)&&(b="repo_search_default"),!g&&b&&(0,d.Z)(ne,{color:c?"red":"grey",title:o.formatMessage({id:"repo_list"})},void 0,(0,d.Z)(R.Z,{condition:c,otherwise:(0,d.Z)(N.Z,{"data-testid":"default-message",id:b})},void 0,t||(t=(0,d.Z)(N.Z,{"data-testid":"error-message",text:c}))))))}se.defaultProps={maxwidth:500,padding:20,reposData:{},reposError:null};var de=(0,f.zB)({reposData:(0,f.P1)(H,(function(e){return v()(e,"reposData")})),reposError:(0,f.P1)(H,(function(e){return v()(e,"reposError")})),repoName:(0,f.P1)(H,(function(e){return v()(e,"repoName")}))});function ue(e){var t=T.xI.requestGetGithubRepos,a=T.xI.clearGithubRepos;return{dispatchGithubRepos:function(a){return e(t(a))},dispatchClearGithubRepos:function(){return e(a())}}}var ce=(0,m.connect)(de,ue);const le=(0,h.compose)(b.XN,ce,p.memo,(0,y.y3)({key:"homeContainer",saga:$}))(se);var pe=(0,h.compose)(b.XN)(se)}}]);